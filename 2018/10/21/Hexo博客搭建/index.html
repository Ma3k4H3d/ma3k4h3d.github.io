<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="CVE Binary PWN hacker web security"><title>Hexo 搭建个人博客 | Mr.Ma3k4H3d</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Hexo 搭建个人博客</h1><a id="logo" href="/.">Mr.Ma3k4H3d</a><p class="description">想要把自己活成一场梦，一首歌，一部电影~</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-user"> 历史</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Hexo 搭建个人博客</h1><div class="post-meta">Oct 21, 2018<span> | </span><span class="category"><a href="/categories/技术分享/">技术分享</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2.3k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 9</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x00-准备工作"><span class="toc-number">1.</span> <span class="toc-text">0x00 准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-Hexo"><span class="toc-number">2.</span> <span class="toc-text">0x01 Hexo</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装"><span class="toc-number">2.1.</span> <span class="toc-text">1. 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-常用命令"><span class="toc-number">2.2.</span> <span class="toc-text">2. 常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Hexo-配置"><span class="toc-number">2.3.</span> <span class="toc-text">3. Hexo 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-添加文章摘要"><span class="toc-number">2.4.</span> <span class="toc-text">4. 添加文章摘要</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-自定义-404-、about-页面"><span class="toc-number">2.5.</span> <span class="toc-text">5. 自定义 404 、about 页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-SEO优化"><span class="toc-number">2.6.</span> <span class="toc-text">7. SEO优化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-Maupassant"><span class="toc-number">3.</span> <span class="toc-text">0x02 Maupassant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Maupassant-安装"><span class="toc-number">3.1.</span> <span class="toc-text">1. Maupassant 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Maupassant配置"><span class="toc-number">3.2.</span> <span class="toc-text">2. Maupassant配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-显示文章目录"><span class="toc-number">3.3.</span> <span class="toc-text">3. 显示文章目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-开启-canvas-nest-网页动态背景"><span class="toc-number">3.4.</span> <span class="toc-text">4. 开启 canvas-nest 网页动态背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-设置导航栏menu"><span class="toc-number">3.5.</span> <span class="toc-text">5. 设置导航栏menu</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-为导航添加相应的页面（时间轴等）"><span class="toc-number">3.6.</span> <span class="toc-text">6. 为导航添加相应的页面（时间轴等）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-常用插件"><span class="toc-number">4.</span> <span class="toc-text">0x03 常用插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-hexo-wordcount"><span class="toc-number">4.1.</span> <span class="toc-text">1. hexo-wordcount</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-hexo-generator-search"><span class="toc-number">4.2.</span> <span class="toc-text">2. hexo-generator-search</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-hexo-asset-image"><span class="toc-number">4.3.</span> <span class="toc-text">3. hexo-asset-image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-hero-generator-feed"><span class="toc-number">4.4.</span> <span class="toc-text">4. hero-generator-feed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-生成站点地图"><span class="toc-number">4.5.</span> <span class="toc-text">5. 生成站点地图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x04-未完待续"><span class="toc-number">5.</span> <span class="toc-text">0x04 未完待续</span></a></li></ol></div></div><div class="post-content"><p>积淀的意义不言而喻，希望能借助这个精神世界的自留地，沉淀所思所学，见证自己一步步走过的历程。<br><a id="more"></a></p>
<h2 id="0x00-准备工作"><a href="#0x00-准备工作" class="headerlink" title="0x00 准备工作"></a>0x00 准备工作</h2><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> 是一个基于 Node.js 的静态博客框架，具有极速生成静态页面、支持Markdown、一键部署、插件丰富等优点。在使用 Hexo 之前，需要进行以下准备工作。</p>
<ul>
<li>安装 Node.js，用以生成静态页面</li>
<li>安装 Git，用以提交管理博客</li>
<li>注册 Github 账号，并开启 Github Pages 服务  </li>
<li>掌握 Markdown 语法，用以管理站点内容</li>
</ul>
<p>以上内容资料较为丰富，因此不再赘述，如有需求请自行 Google。</p>
<h2 id="0x01-Hexo"><a href="#0x01-Hexo" class="headerlink" title="0x01 Hexo"></a>0x01 Hexo</h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h3><p>通过以下命令，一键安装 Hexo<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure></p>
<p>待安装完成后，创建用以存放 hexo 文件的目录，并初始化<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir hexo</span><br><span class="line"><span class="built_in">cd</span> hexo</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure></p>
<p>初始化成功后，目录结构如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── <span class="built_in">source</span></span><br><span class="line">└── themes</span><br><span class="line"></span><br><span class="line">3 directories, 2 files</span><br></pre></td></tr></table></figure></p>
<h3 id="2-常用命令"><a href="#2-常用命令" class="headerlink" title="2. 常用命令"></a>2. 常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server 开启hexo服务器</span><br><span class="line">$ hexo s</span><br><span class="line">$ hexo s --draft 显示草稿</span><br><span class="line"></span><br><span class="line">$ hexo new <span class="string">"name"</span> 新建文章</span><br><span class="line">$ hexo new draft <span class="string">"name"</span> 新建草稿</span><br><span class="line">$ hexo publish <span class="string">"name"</span> 发布草稿</span><br><span class="line"></span><br><span class="line">$ hexo clean 清除缓存文件 (db.json) 和已生成的静态文件 (public)</span><br><span class="line"></span><br><span class="line">$ hexo generate 生成静态页面</span><br><span class="line">$ hexo g</span><br><span class="line"></span><br><span class="line">$ hexo deploy 部署博客到Github</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>
<h3 id="3-Hexo-配置"><a href="#3-Hexo-配置" class="headerlink" title="3. Hexo 配置"></a>3. Hexo 配置</h3><p>通过<code>/_config.yml</code>文件可对 Hexo 进行配置，官方文档中有详细介绍，不再赘述，详情可参考<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">配置</a>。</p>
<h3 id="4-添加文章摘要"><a href="#4-添加文章摘要" class="headerlink" title="4. 添加文章摘要"></a>4. 添加文章摘要</h3><p>设置文章摘要有两种方法：</p>
<ul>
<li>在 Front-matter 中指定 description，如：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">date: 2013-11-22 17:11:54</span><br><span class="line">description: 你对本页的描述</span><br><span class="line">```  </span><br><span class="line">* 在正文使用 `&lt;!--more--&gt;` 作为摘要的结束标记</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">以上是摘要  </span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">以下是剩下的全文</span><br></pre></td></tr></table></figure>
<h3 id="5-自定义-404-、about-页面"><a href="#5-自定义-404-、about-页面" class="headerlink" title="5. 自定义 404 、about 页面"></a>5. 自定义 404 、about 页面</h3><ul>
<li>在 <code>hexo/source</code> 目录下创建 <code>404.html</code> 文件 或者 <code>404.md</code> 文件，以 404.html 为例接入<a href="http://www.qq.com/404/" target="_blank" rel="noopener">腾讯404公益广告</a>。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">layout: false</span><br><span class="line">title: "404"</span><br><span class="line">---</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html;charset=utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">homePageUrl</span>=<span class="string">"http://&lt;your home page&gt;"</span> <span class="attr">homePageName</span>=<span class="string">"回到首页"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在 <code>hexo/source/about/</code> 目录下创建 <code>index.md</code>文件，添加内容如下：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: about</span><br><span class="line">---</span><br><span class="line">Coming soon ~</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"><span class="comment">### 6. 创建分类及标签  </span></span><br><span class="line">6.1 创建“分类”选项</span><br><span class="line">打开命令行，进入博客所在目录。执行以下命令</span><br><span class="line">```bash</span><br><span class="line">$ hexo new page NewCategories</span><br></pre></td></tr></table></figure>
<p>成功后提示：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Created: ~/Documents/blog/<span class="built_in">source</span>/NewCategories/index.md</span><br></pre></td></tr></table></figure></p>
<p>生成的<code>index.md</code>内容如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2018-10-20 13:47:40</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>向文件中添加<code>type: &quot;categories&quot;</code>，结果如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2018-10-20 13:47:40</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"categories"</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>打开需要添加分类的文章，为其添加categories属性。下方的<code>categories: web前端</code>表示添加这篇文章到“web前端”这个分类。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: jQuery对表单的操作及更多应用</span><br><span class="line">date: 2018-10-20 13:47:40</span><br><span class="line">categories:</span><br><span class="line">- web前端</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>至此，成功给文章添加分类，点击首页的“分类”可以看到该分类下的所有文章。当然，只有添加了<code>categories: xxx</code>的文章才会被收录到首页的“分类”中。</p>
<p>6.2 创建“标签”选项<br>打开命令行，进入博客所在文件夹。执行命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page NewTags</span><br></pre></td></tr></table></figure></p>
<p>成功后会提示：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Created: ~/Documents/blog/<span class="built_in">source</span>/NewTags/index.md</span><br></pre></td></tr></table></figure></p>
<p>打开<code>index.md</code>文件，内容如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2017-05-27 14:22:08</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>添加<code>type: &quot;tags&quot;</code>至<code>index.md</code>中：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2017-05-27 13:47:40</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"tags"</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>打开需要添加标签的文章，为其添加tags属性。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: jQuery对表单的操作及更多应用</span><br><span class="line">date: 2017-05-26 12:12:57</span><br><span class="line">categories:</span><br><span class="line">- web前端</span><br><span class="line">tags:</span><br><span class="line">- jQuery</span><br><span class="line">- 表格</span><br><span class="line">- 表单验证</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>至此，成功给文章添加标签，点击首页的“标签”可以看到该标签下的所有文章。当然，只有添加了<code>tags: xxx</code>的文章才会被收录到首页的“标签”中。</p>
<p>修改<code>scaffolds/post.md</code>模板文件，在 Front-matter 区域添加<code>tages:</code>、<code>categories:</code>：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">categories:</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>之后执行<code>hexo new 文章名</code>命令生成的文件，将会自动添加“分类”与“标签”。</p>
<h3 id="7-SEO优化"><a href="#7-SEO优化" class="headerlink" title="7. SEO优化"></a>7. SEO优化</h3><p>Hexo 站点已基本搭建完成。但是如果仅仅搭建完毕是无法通过搜索引擎查询到的，若想要加入搜索引擎收录，需进行 SEO 优化。<br>7.1 添加搜索引擎收录<br>分别在 <a href="http://zhanzhang.baidu.com/site/index" target="_blank" rel="noopener">百度站长工具</a> 和 <a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" target="_blank" rel="noopener">Google 站长工具</a> 中对站点进行验证。</p>
<p>选择<code>文件验证</code>的方式进行验证，把下载的文件放在 <code>source</code> 目录下，并对文件内容进行编辑，在文件首部加入如下内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: <span class="literal">false</span></span><br><span class="line">sitemap: <span class="literal">false</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>这样就可以防止 Hexo 在生成博客网站时在验证文件里添加额外的内容，导致验证失败。<br>也可以在博客的配置文件里加入如下的配置来防止这些文件被渲染：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">skip_render:</span><br><span class="line"> - baidu_verify*.html</span><br><span class="line"> - google*.html</span><br></pre></td></tr></table></figure></p>
<p>7.2 添加robots.txt<br>在/source/下新建robots.txt：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /about/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /donate/</span><br><span class="line">Allow: /2017/</span><br><span class="line">Allow: /<span class="built_in">history</span>/</span><br><span class="line">Allow: /message/</span><br><span class="line">Allow: /page/</span><br><span class="line">Allow: /tags/</span><br><span class="line"></span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /fancybox/</span><br><span class="line"></span><br><span class="line">Sitemap: https://domain/sitemap.xml</span><br><span class="line">Sitemap: https://domain/baidusitemap.xml</span><br></pre></td></tr></table></figure></p>
<p>7.3 提交 sitemaps<br>利用插件生成sitemap（详见下文），待站点验证成功后便可以选择用 sitemap 的方式自动提交链接。<br>提交完成后可以通过 site:your-blog-site 验证站点是否被百度、Google 收录。 一般需要几天的时间才能保证被搜索引擎收录。</p>
<h2 id="0x02-Maupassant"><a href="#0x02-Maupassant" class="headerlink" title="0x02 Maupassant"></a>0x02 Maupassant</h2><p>Hexo官网提供了丰富的 <a href="https://hexo.io/themes/" target="_blank" rel="noopener">Themes</a>，选定心仪的主题之后，可以参照主题的文档进行安装，之后修改<code>/_conifg.yml</code>进行配置，本站选用了Maupassant。<br><img src="https://www.haomwei.com/images/maupassant.jpg" alt="主题效果">  </p>
<h3 id="1-Maupassant-安装"><a href="#1-Maupassant-安装" class="headerlink" title="1. Maupassant 安装"></a>1. Maupassant 安装</h3><p>安装主题和渲染器：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/tufu9441/maupassant-hexo.git themes/maupassant</span><br><span class="line">$ npm install hexo-renderer-pug --save</span><br><span class="line">$ npm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure></p>
<p>编辑Hexo目录下的 <code>_config.yml</code>，将<code>theme</code>的值改为<code>maupassant</code>。</p>
<p><strong>注：安装<code>npm install hexo-renderer-sass</code>时报错，切换至<a href="http://npm.taobao.org/" target="_blank" rel="noopener">淘宝NPM镜像</a>安装即可。</strong></p>
<h3 id="2-Maupassant配置"><a href="#2-Maupassant配置" class="headerlink" title="2. Maupassant配置"></a>2. Maupassant配置</h3><p>官方文档中有详细介绍，可参考<a href="https://www.haomwei.com/technology/maupassant-hexo.html" target="_blank" rel="noopener">中文介绍</a>。</p>
<h3 id="3-显示文章目录"><a href="#3-显示文章目录" class="headerlink" title="3. 显示文章目录"></a>3. 显示文章目录</h3><p>在文章的 <a href="https://hexo.io/docs/front-matter.html#Settings_&amp;_Their_Default_Values" target="_blank" rel="noopener">Front-matter</a> 中添加<code>toc: true</code>就可以让该篇文章显示目录，可以修改 <code>hexo/scaffolds/post.md</code> 模板文件，这样之后创建的文章默认都显示文章目录。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">categories:</span><br><span class="line">tags:</span><br><span class="line">toc: <span class="literal">true</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h3 id="4-开启-canvas-nest-网页动态背景"><a href="#4-开启-canvas-nest-网页动态背景" class="headerlink" title="4. 开启 canvas-nest 网页动态背景"></a>4. 开启 canvas-nest 网页动态背景</h3><p>修改<code>/themes/maupassant/_config.yml</code>:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  color:</span> <span class="number">208</span><span class="string">,55,66</span> <span class="comment">## RGB value of the color</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="number">0.3</span> <span class="comment">## Transparency of lines</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="bullet">-1</span> <span class="comment">## The z-index property of the background</span></span><br><span class="line"><span class="attr">  count:</span> <span class="number">99</span> <span class="comment">## Quantity of lines</span></span><br></pre></td></tr></table></figure></p>
<h3 id="5-设置导航栏menu"><a href="#5-设置导航栏menu" class="headerlink" title="5. 设置导航栏menu"></a>5. 设置导航栏menu</h3><p>修改<code>/themes/maupassant/_config.yml</code>:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">home</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">.</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">archive</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">archives/</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">about</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">about/</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-user</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">history</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">history/</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-user</span></span><br><span class="line"><span class="attr">  - page:</span> <span class="string">rss</span></span><br><span class="line"><span class="attr">    directory:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">    icon:</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure></p>
<h3 id="6-为导航添加相应的页面（时间轴等）"><a href="#6-为导航添加相应的页面（时间轴等）" class="headerlink" title="6. 为导航添加相应的页面（时间轴等）"></a>6. 为导航添加相应的页面（时间轴等）</h3><ul>
<li>在/source下新建与page名称对应的文件夹，然后在文件夹中建立<code>index.md</code>文件；</li>
<li>在<code>index.md</code>的<code>front-matter</code>中设置属性，若需要含有侧边栏的页面，添加<code>layout: page</code>；若需要单栏页面，就将layout设置为 <code>layout: single-column</code>；若不需要评论，需要加上<code>comments: false</code></li>
<li>若要显示时间轴，在index.md的front-matter中设置layout属性为<code>layout: timeline</code>，同时修改<code>/themes/maupassant/_config.yml</code>:  </li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">timeline:</span></span><br><span class="line"><span class="attr">  - num:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">    word:</span> <span class="number">2014</span><span class="string">/06/12-Start</span></span><br><span class="line"><span class="attr">  - num:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">    word:</span> <span class="number">2014</span><span class="string">/11/29-XXX</span></span><br><span class="line"><span class="attr">  - num:</span> <span class="number">3</span></span><br><span class="line"><span class="attr">    word:</span> <span class="number">2015</span><span class="string">/02/18-DDD</span></span><br><span class="line"><span class="attr">  - num:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">    word:</span> <span class="string">More</span></span><br></pre></td></tr></table></figure>
<p>/source/history/index.md：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: timeline</span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h2 id="0x03-常用插件"><a href="#0x03-常用插件" class="headerlink" title="0x03 常用插件"></a>0x03 常用插件</h2><h3 id="1-hexo-wordcount"><a href="#1-hexo-wordcount" class="headerlink" title="1. hexo-wordcount"></a>1. hexo-wordcount</h3><p>安装插件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-wordcount —save</span><br></pre></td></tr></table></figure></p>
<p>开启 Maupassant 主题中的 Word Count 功能：<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span> <span class="literal">true</span> <span class="comment">## If you want to display the word counter and the reading time expected to spend of each post please set the value to true, and you must have hexo-wordcount installed.</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-hexo-generator-search"><a href="#2-hexo-generator-search" class="headerlink" title="2. hexo-generator-search"></a>2. hexo-generator-search</h3><p>启用 Maupassant 本地搜索功能，安装<a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></p>
<p>安装完成后，修改主题配置，显示本地搜索框<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">self_search:</span> <span class="literal">true</span> <span class="comment">## Use a jQuery-based local search engine, true/false.</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-hexo-asset-image"><a href="#3-hexo-asset-image" class="headerlink" title="3. hexo-asset-image"></a>3. hexo-asset-image</h3><p>hexo对本地图片的支持并不友好，如果按markdown的语法写部署之后页面的图片取不到，如果按hexo的写法在本地markdown编辑器中又不能识别，解决办法是使用 hexo-asset-image 插件。<br>首先安装插件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-asset-image —save</span><br></pre></td></tr></table></figure></p>
<p>然后修改 <code>_config.yml</code> 中 <code>post_asset_folder</code> 的值为 <code>true</code>，这样每次创建文章的时候会生成一个同名文件夹用于放资源文件，这样就可以使用markdown的语法来插入图片了。</p>
<h3 id="4-hero-generator-feed"><a href="#4-hero-generator-feed" class="headerlink" title="4. hero-generator-feed"></a>4. hero-generator-feed</h3><p>支持 RSS 订阅，安装 hexo-generator-feed<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></p>
<p>修改 hexo 配置<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">atom</span></span><br><span class="line"><span class="attr">    path:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">    limit:</span> <span class="number">5</span> <span class="comment">#在feed中出现的最大文章数（使用0或者false）来显示所有文章</span></span><br><span class="line"><span class="attr">    hub:</span></span><br><span class="line"><span class="attr">    content:</span></span><br></pre></td></tr></table></figure></p>
<p>修改主题配置<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- page:</span> <span class="string">rss</span></span><br><span class="line"><span class="attr">  directory:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">  icon:</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure></p>
<h3 id="5-生成站点地图"><a href="#5-生成站点地图" class="headerlink" title="5. 生成站点地图"></a>5. 生成站点地图</h3><p>通过站点地图生成插件生成sitemap，进行SEO优化。</p>
<ul>
<li>安装插件  </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>
<ul>
<li>生成站点地图,修改<code>/_config.yml</code>文件，添加如下配置：</li>
</ul>
<pre><code class="yml"><span class="comment"># 自动生成sitemap</span>
<span class="attr">sitemap:</span>
<span class="attr">    path:</span> <span class="string">sitemap.xml</span>
<span class="attr">baidusitemap:</span>
<span class="attr">    path:</span> <span class="string">baidusitemap.xml</span>
</code></pre>
<p>编译<code>hexo g</code>，在 public 目录下可以看到sitemap.xml和baidusitemap.xml文件，重新发布至服务器<code>hexo d</code>。</p>
<h2 id="0x04-未完待续"><a href="#0x04-未完待续" class="headerlink" title="0x04 未完待续"></a>0x04 未完待续</h2><ol>
<li>待站点被收录后，上传sitemap.xml；</li>
<li>显示分类文章总数(目测有难度)</li>
<li>开启评论</li>
</ol>
</div><div class="tags"><a href="/tags/Hexo/">Hexo</a></div><div class="post-nav"><a class="pre" href="/2018/10/26/利用Github辅助漏洞分析/">利用Github辅助漏洞分析</a><a class="next" href="/2018/10/21/CVE-2017-0358/">CVE-2017-0358</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AEG/">AEG</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Angr/">Angr</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PWN/">PWN</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术分享/">技术分享</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/漏洞分析/">漏洞分析</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔杂谈/">随笔杂谈</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/CGC/" style="font-size: 15px;">CGC</a> <a href="/tags/CVE/" style="font-size: 15px;">CVE</a> <a href="/tags/Mr-Robot/" style="font-size: 15px;">Mr.Robot</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/SS/" style="font-size: 15px;">SS</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Github/" style="font-size: 15px;">Github</a> <a href="/tags/Fuzz/" style="font-size: 15px;">Fuzz</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/12/08/风雨兼程/">即使风雨兼程，也能守得云开见月明</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/04/ReadingList/">ReadingList</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/09/insomnihack-aeg/">Insomnihack_aeg 代码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/20/Vulnerability-Analysis-Method/">软件漏洞分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/19/Angr-1/">Part 1： Angr Internals</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/14/Pwnable-3/">Pwnable（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/08/Pwnable-2/">Pwnable（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/07/Pwnable-1/">Pwnable（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/27/Mr-WxRobot/">Mr.WxRobot</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/16/First-CVE/">初试 CVE</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.t00ls.net/" title="T00ls" target="_blank">T00ls</a><ul></ul><a href="https://maskhed.github.io/" title="Ma3k4H3d" target="_blank">Ma3k4H3d</a><ul></ul><a href="https://musicforprogramming.net" title="musicforprogramming.net" target="_blank">musicforprogramming.net</a><ul></ul><a href="https://github.com/maskhed/MyPapers" title="Papers" target="_blank">Papers</a><ul></ul><a href="http://riusksk.me" title="riusksk" target="_blank">riusksk</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer"><div>Total<span id="busuanzi_container_site_pv"><span> </span><span id="busuanzi_value_site_pv"></span></span><span rel="nofollow">  hits, </span><span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span></span><span rel="nofollow">  visitors. </span></div><div><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1275288791'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1275288791%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script></div>Copyright © 2019 <a href="/." rel="nofollow">Mr.Ma3k4H3d.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" color="208,55,66" opacity="0.3" zIndex="-1" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>